/*! Author: Artem Sapegin, http://sapegin.me, 2013 */
!function(a,b,c,d){function e(a){var b="bez_"+c.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof c.easing[b]){var d=function(a,b){var c=[null,null],d=[null,null],e=[null,null],f=function(f,g){return e[g]=3*a[g],d[g]=3*(b[g]-a[g])-e[g],c[g]=1-e[g]-d[g],f*(e[g]+f*(d[g]+f*c[g]))},g=function(a){return e[0]+a*(2*d[0]+3*c[0]*a)},h=function(a){for(var b,c=a,d=0;14>++d&&(b=f(c,0)-a,!(.001>Math.abs(b)));)c-=b/g(c);return c};return function(a){return f(h(a),1)}};c.easing[b]=function(b,c,e,f,g){return f*d([a[0],a[1]],[a[2],a[3]])(c/g)+e}}return b}function f(){}function g(a,b,c){return Math.max("number"!=typeof b?-1/0:b,Math.min("number"!=typeof c?1/0:c,a))}function h(a){return a.match(/-?\d+/g)[4]}function i(a){return jc?Number(h(a.css("transform"))):Number(a.css("left").replace("px",""))}function j(a){var b={};return jc?b.transform="translate3d("+a+"px,0,0)":b.left=a,b}function k(a){return{"transition-duration":a+"ms"}}function l(a,b){return a=Number((a+"").replace(b||"px","")),isNaN(a)?!1:a}function m(a){var b=l(a,"%");return b&&/%$/.test(a)?b:!1}function n(a){return l(a)||l(a,"%")?a:!1}function o(a,b,c,d){return(a-(d||0))*(b+(c||0))}function p(a,b,c,d){return-Math.round(a/(b+(c||0))-(d||0))}function q(a,b){return Math.floor(Math.random()*(b-a+1))+a}function r(a){var b=a.data();if(!b.transEnd){var c=a[0],d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};c.addEventListener(d[S.prefixed("transition")],function(a){var c=b.transProp;(c.match(a.propertyName)||c.match("all"))&&(b.transProp=c.replace(a.propertyName,""),b.onEndFn.call(this))}),b.transEnd=!0}}function s(a,b,c){var d,e=a.data();e.transProp=a.css("transition-property"),e.onEndFn=function(){d=!0,b.call(this)},r(a),clearTimeout(e.transTimeout),c&&(e.transTimeout=setTimeout(function(){d||(a.data().onEndFn=f,b.call(a[0]))},1.1*c))}function t(a){jc?(a.css(k(0)),s(a,f)):a.stop();var b=i(a);return a.css(j(b)),b}function u(a,b){return Math.round(a+(b-a)/1.5)}function v(){return v.protocol=v.protocol||("https://"===location.protocol?"https://":"http://"),v.protocol}function w(a){var c=b.createElement("a");return c.href=a,c}function x(a,b){if("string"!=typeof a)return a;a=w(a),a.host=a.host.replace(/^www./,"");var c,d;if("youtube.com"===a.host&&a.search){if(c=a.search.split("v=")[1]){var e=c.indexOf("&");-1!==e&&(c=c.substring(0,e)),d="youtube"}}else"youtube.com"===a.host||"youtu.be"===a.host?(c=a.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),d="youtube"):("vimeo.com"===a.host||"player.vimeo.com"===a.host)&&(d="vimeo",c=a.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return c&&d||!b||(c=a.href,d="custom"),c?{id:c,type:d}:!1}function y(a,b,d){var e,f,g=a.video;return"youtube"===g.type?(f=v()+"img.youtube.com/vi/"+g.id+"/default.jpg",e=f.replace(/\/default.jpg$/,"/hqdefault.jpg"),a.thumbsReady=!0):"vimeo"===g.type?c.ajax({url:v()+"vimeo.com/api/v2/video/"+g.id+".json",dataType:"jsonp",success:function(c){a.thumbsReady=!0,z(b,{img:c[0].thumbnail_large,thumb:c[0].thumbnail_small},a.i,d)}}):a.thumbsReady=!0,{img:e,thumb:f}}function z(a,b,c,d){for(var e=0,f=a.length;f>e;e++){var g=a[e];if(g.i===c&&g.thumbsReady){d.splice(e,1,{i:c,video:g.video,videoReady:!0,caption:g.caption,img:g.img||b.img,thumb:g.thumb||b.thumb});break}}}function A(a){function b(a,b){var c=a.data(),d=a.children("img").eq(0),e=a.attr("href"),f=a.attr("src"),g=d.attr("src"),h=c.video,i=b?x(e,h===!0):!1;return i?e=!1:i=x(h,h),{video:i,img:c.img||e||f||g,thumb:c.thumb||g||f||e,id:a.attr("id")}}var d=[];return a.children().each(function(){var a=c(this),e=a.data();if(a.is("a, img"))c.extend(e,b(a,!0));else{if(a.is(":empty"))return;e.html=this}d.push(e)}),d}function B(a){return 0===a.offsetWidth&&0===a.offsetHeight}function C(a,b,c){a()?b():setTimeout(function(){C(a,b)},c||100)}function D(a,b,c){var d=a.data(),e=d.measures;if(e&&(!d.l||d.l.w!==e.width||d.l.h!==e.height||d.l.r!==e.ratio||d.l.W!==b.w||d.l.H!==b.h||d.l.m!==c)){var f=e.width,h=e.height,i=b.w/b.h,j=e.ratio>=i,k=c===!0,l="contain"===c,m="cover"===c;j&&(k||l)||!j&&m?(f=g(b.w,0,k?f:1/0),h=f/e.ratio):(j&&m||!j&&(k||l))&&(h=g(b.h,0,k?h:1/0),f=h*e.ratio),a.css({width:Math.round(f),height:Math.round(h),marginLeft:Math.round(-f/2),marginTop:Math.round(-h/2)}),d.l={w:e.width,h:e.height,r:e.ratio,W:b.w,H:b.h,m:c}}}function E(a,b){var c=a[0];c.styleSheet?c.styleSheet.cssText=b:a.html(b)}function F(a,b,c){return b===c?!1:b>=a?"left":a>=c?"right":"left right"}function G(a,b,c){if(!c)return!1;var d=Number(a);if(!isNaN(d))return d-1;for(var e=0,f=b.length;f>e;e++){var g=b[e];if(g.id===a){d=e;break}}return d}function H(a,b,d){d=d||{},a.each(function(){var a,e=c(this),g=e.data();g.clickOn||(g.clickOn=!0,c.extend(N(e,{onStart:function(b){a=b,(d.onStart||f).call(this,b)},onMove:d.onMove||f,onEnd:function(c){c.moved||d.tail.checked||b.call(this,a)}}),d.tail))})}function I(){return!1}function J(a){return a.each(function(){c(this).off("mousedown mousemove mouseup").on("mousedown mousemove mouseup",I),hc&&(this.removeEventListener("touchstart",I),this.removeEventListener("touchmove",I),this.removeEventListener("touchend",I),this.addEventListener("touchstart",I),this.addEventListener("touchmove",I),this.addEventListener("touchend",I))})}function K(a,b){var e=Math.round(b.pos),g=b.onEnd||f;b.overPos!==d&&b.overPos!==b.pos&&(e=b.overPos,g=function(){K(a,c.extend({},b,{overPos:b.pos,time:Math.max(mc,b.time/2)}))});var h=j(e);jc?(a.css(c.extend(k(b.time),h)),b.time>10?s(a,g,b.time):g()):a.stop().animate(h,b.time,tc,g)}function L(a,b,d){var e=a,g=b,h="crossfade"===d.method;L.$el1=a=a||c(a),L.$el2=b=b||c(b);var i=function(){i.done||L.$el1!==a||L.$el2!==b||(a.removeClass(Fb),b.removeClass(Eb),(d.onEnd||f)(),i.done=!0)},j=k(d.time),l=k(0),m={opacity:0},n={opacity:1};a.stop().css(l).addClass(Fb).removeClass(Eb),b.stop().css(l).addClass(Eb).removeClass(Fb),jc?(g&&a.css(h?m:n),setTimeout(function(){a.css(c.extend(j,n)),b.css(c.extend(j,m))},4),d.time>10&&(e||g)?e?s(a,i,d.time):g&&s(b,i,d.time):i()):(g&&a.stop().fadeTo(0,h?0:1),a.stop().fadeTo(d.time,1,i),b.stop().fadeTo(d.time,0,i),e||g||i())}function M(a,b){a._x=b?a.touches[0].pageX:a.pageX,a._y=b?a.touches[0].pageY:a.pageY}function N(a,b){function e(a){return n=c(a.target),q=!1,i||l||a.touches&&a.touches.length>1||a.which>1||s.prevent||Z&&Z.type!==a.type&&_||(q=b.select&&n.is(b.select,r))?s.prevent!==!0||q:(p=a.type.match("touch"),M(a,p),s.checked=j=m=!1,Z=a,$=a.type.replace(/down|start/,"move"),k=a,o=s.control,(b.onStart||f).call(r,a,{control:o,$target:n}),i=l=!0,p||a.preventDefault(),d)}function g(a){if(!i||a.touches&&a.touches.length>1)return h(),d;if($===a.type){M(a,p);var c=Math.abs(a._x-k._x),e=Math.abs(a._y-k._y),g=c-e,l=g>=3,n=-3>=g;m||(m=!(!l&&!n)),p&&!s.checked?((l||n)&&(s.checked=!0,j=l),(!s.checked||j)&&a.preventDefault()):!p||j?(a.preventDefault(),(b.onMove||f).call(r,a)):i=!1,s.checked=s.checked||l||n}}function h(a){l=s.control=!1,i&&(a&&a.preventDefault&&a.preventDefault(),_=!0,clearTimeout(ab),ab=setTimeout(function(){_=!1},1e3),(b.onEnd||f).call(r,{moved:!!m,$target:n,control:o,startEvent:k,aborted:!a,touch:p}),i=!1)}var i,j,k,l,m,n,o,p,q,r=a[0],s={};return hc&&(r.addEventListener("touchstart",e),r.addEventListener("touchmove",g),r.addEventListener("touchend",h)),a.on("mousedown",e),gc.on("mousemove",g).on("mouseup",h),a.on("click","a",function(a){s.checked&&a.preventDefault()}),s}function O(a,b){function d(c){k=l=c._x,p=[[(new Date).getTime(),k]],m=n=t(a),(b.onStart||f).call(z,c,{pos:m})}function e(a,b){r=A.minPos,s=A.maxPos,v=A.snap,w=a.altKey,y=!1,x=b.control,x||d(a)}function h(c){x&&(x=!1,d(c)),l=c._x,p.push([(new Date).getTime(),l]),n=m-(k-l),o=F(n,r,s),r>=n?n=u(n,r):n>=s&&(n=u(n,s)),B.noMove||(a.css(j(n)),y||(y=!0,Y.addClass("grabbing"))),(b.onMove||f).call(z,c,{pos:n,edge:o})}function i(a){if(!x){Y.removeClass("grabbing"),q=(new Date).getTime();for(var d,e,h,i,j,k,o,t,u,y=q-lc,A=null,B=mc,C=b.friction,D=p.length-1;D>=0;D--){if(d=p[D][0],e=Math.abs(d-y),null===A||h>e)A=d,i=p[D][1];else if(A===y||e>h)break;h=e}o=g(n,r,s);var E=i-l,F=E>=0,G=q-A,H=lc>=G&&n!==m&&o===n;v&&(o=g(Math[H?F?"floor":"ceil":"round"](n/v)*v,r,s),r=s=o),H&&(v||o===n)&&(u=-(E/G),B*=g(Math.abs(u),b.timeLow,b.timeHigh),j=Math.round(n+u*B/C),v||(o=j),(!F&&j>s||F&&r>j)&&(k=F?r:s,t=j-k,v||(o=k),t=g(o+.03*t,k-50,k+50),B=Math.abs((n-t)/(u/C)))),B*=w?10:1,(b.onEnd||f).call(z,c.extend(a,{pos:n,newPos:o,overPos:t,time:B}))}}var k,l,m,n,o,p,q,r,s,v,w,x,y,z=a[0],A=a.data(),B={};return B=c.extend(N(b.$wrap,{onStart:e,onMove:h,onEnd:i,select:b.select,control:b.control}),B)}var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},Q=RegExp("[&<>\"'/]","g"),R={escape:function(a){return null==a?"":(""+a).replace(Q,function(a){return P[a]})}},S=function(a,b,c){function d(a){r.cssText=a}function e(a,b){return typeof a===b}function f(a,b){return!!~(""+a).indexOf(b)}function g(a,b){for(var d in a){var e=a[d];if(!f(e,"-")&&r[e]!==c)return"pfx"==b?e:!0}return!1}function h(a,b,d){for(var f in a){var g=b[a[f]];if(g!==c)return d===!1?a[f]:e(g,"function")?g.bind(d||b):g}return!1}function i(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),f=(a+" "+u.join(d+" ")+d).split(" ");return e(b,"string")||e(b,"undefined")?g(f,b):(f=(a+" "+v.join(d+" ")+d).split(" "),h(f,b,c))}var j,k,l,m="2.6.2",n={},o=b.documentElement,p="modernizr",q=b.createElement(p),r=q.style,s=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),t="Webkit Moz O ms",u=t.split(" "),v=t.toLowerCase().split(" "),w={},x=[],y=x.slice,z=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,l=k||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:p+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',p,'">',a,"</style>"].join(""),j.id=p,(k?j:l).innerHTML+=f,l.appendChild(j),k||(l.style.background="",l.style.overflow="hidden",i=o.style.overflow,o.style.overflow="hidden",o.appendChild(l)),g=c(j,a),k?j.parentNode.removeChild(j):(l.parentNode.removeChild(l),o.style.overflow=i),!!g},A={}.hasOwnProperty;l=e(A,"undefined")||e(A.call,"undefined")?function(a,b){return b in a&&e(a.constructor.prototype[b],"undefined")}:function(a,b){return A.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=y.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(y.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(y.call(arguments)))};return d}),w.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:z(["@media (",s.join("touch-enabled),("),p,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=9===a.offsetTop}),c},w.csstransforms3d=function(){var a=!!i("perspective");return a&&"webkitPerspective"in o.style&&z("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b){a=9===b.offsetLeft&&3===b.offsetHeight}),a},w.csstransitions=function(){return i("transition")};for(var B in w)l(w,B)&&(k=B.toLowerCase(),n[k]=w[B](),x.push((n[k]?"":"no-")+k));return n.addTest=function(a,b){if("object"==typeof a)for(var d in a)l(a,d)&&n.addTest(d,a[d]);else{if(a=a.toLowerCase(),n[a]!==c)return n;b="function"==typeof b?b():b,"undefined"!=typeof enableClasses&&enableClasses&&(o.className+=" "+(b?"":"no-")+a),n[a]=b}return n},d(""),q=j=null,n._version=m,n._prefixes=s,n._domPrefixes=v,n._cssomPrefixes=u,n.testProp=function(a){return g([a])},n.testAllProps=i,n.testStyles=z,n.prefixed=function(a,b,c){return b?i(a,b,c):i(a,"pfx")},n}(this,this.document),T={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},U="webkit moz o ms khtml".split(" ");if(b.cancelFullScreen!==d)T.ok=!0;else for(var V=0,W=U.length;W>V;V++)if(T.prefix=U[V],b[T.prefix+"CancelFullScreen"]!==d){T.ok=!0;break}T.ok&&(T.event=T.prefix+"fullscreenchange",T.is=function(){switch(this.prefix){case"":return b.fullScreen;case"webkit":return b.webkitIsFullScreen;default:return b[this.prefix+"FullScreen"]}},T.request=function(a){return""===this.prefix?a.requestFullScreen():a[this.prefix+"RequestFullScreen"]()},T.cancel=function(){return""===this.prefix?b.cancelFullScreen():b[this.prefix+"CancelFullScreen"]()});var X,Y,Z,$,_,ab,bb,cb="fotorama",db="fullscreen",eb=cb+"__wrap",fb=eb+"--not-ready",gb=eb+"--css3",hb=eb+"--video",ib=eb+"--fade",jb=eb+"--slide",kb=eb+"--no-controls",lb=cb+"__stage",mb=lb+"__frame",nb=mb+"--video",ob=lb+"__shaft",pb=lb+"--only-active",qb=cb+"__arr",rb=qb+"--disabled",sb=qb+"--prev",tb=qb+"--next",ub=qb+"__arr",vb=cb+"__nav",wb=vb+"-wrap",xb=vb+"__shaft",yb=vb+"--dots",zb=vb+"--thumbs",Ab=vb+"__frame",Bb=Ab+"--dot",Cb=Ab+"--thumb",Db=cb+"__fade",Eb=Db+"-front",Fb=Db+"-rear",Gb=cb+"__shadow",Hb=Gb+"--left",Ib=Gb+"--right",Jb=Gb+"s",Kb=Jb+"--left",Lb=Jb+"--right",Mb=cb+"__active",Nb=cb+"__select",Ob=cb+"--hidden",Pb=cb+"--fullscreen",Qb=cb+"__fullscreen-icon",Rb=cb+"__error",Sb=cb+"__loading",Tb=cb+"__loaded",Ub=Tb+"--full",Vb=Tb+"--img",Wb=cb+"__load",Xb=cb+"__img",Yb=Xb+"--full",Zb=cb+"__dot",$b=cb+"__thumb",_b=$b+"-border",ac=cb+"__html",bc=cb+"__video",cc=bc+"-play",dc=bc+"-close",ec=cb+"__caption",fc=c(a),gc=c(b),hc=S.touch,ic="quirks"===b.location.hash.replace("#",""),jc=S.csstransforms3d&&S.csstransitions&&!ic,kc=T.ok,lc=300,mc=333,nc="#777",oc=5e3,pc=2,qc=64,rc=500,sc=333,tc=e([.1,0,.25,1]),uc="{{X}}",vc='<div class="fotorama__video"><iframe src="'+uc+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe></div>',wc={vimeo:"http://player.vimeo.com/video/"+uc+"?autoplay=1&amp;badge=0",youtube:"http://www.youtube.com/embed/"+uc+"?autoplay=1",custom:uc};!function(a,b,c){function d(a,c){var d,e=b.createElement(a||"div");for(d in c)e[d]=c[d];return e}function e(a){for(var b=1,c=arguments.length;c>b;b++)a.appendChild(arguments[b]);return a}function f(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+100*(c/d),g=Math.max(1-(1-a)/b*(100-f),a),h=k.substring(0,k.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return m[e]||(n.insertRule("@"+i+"keyframes "+e+"{"+"0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}"+"100%{opacity:"+g+"}"+"}",n.cssRules.length),m[e]=1),e}function g(a,b){var d,e,f=a.style;if(f[b]!==c)return b;for(b=b.charAt(0).toUpperCase()+b.slice(1),e=0;l.length>e;e++)if(d=l[e]+b,f[d]!==c)return d}function h(a,b){for(var c in b)a.style[g(a,c)||c]=b[c];return a}function i(a){for(var b=1;arguments.length>b;b++){var d=arguments[b];for(var e in d)a[e]===c&&(a[e]=d[e])}return a}function j(a){for(var b={x:a.offsetLeft,y:a.offsetTop};a=a.offsetParent;)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}var k,l=["webkit","Moz","ms","O"],m={},n=function(){var a=d("style",{type:"text/css"});return e(b.getElementsByTagName("head")[0],a),a.sheet||a.styleSheet}(),o={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto"};bb=function(a){return this.spin?(this.opts=i(a||{},bb.defaults,o),c):new bb(a)},bb.defaults={},i(bb.prototype,{spin:function(a){this.stop();var b,c,e=this,f=e.opts,g=e.el=h(d(0,{className:f.className}),{position:"relative",width:0,zIndex:f.zIndex}),i=f.radius+f.length+f.width;if(a&&(a.insertBefore(g,a.firstChild||null),c=j(a),b=j(g),h(g,{left:("auto"==f.left?c.x-b.x+(a.offsetWidth>>1):parseInt(f.left,10)+i)+"px",top:("auto"==f.top?c.y-b.y+(a.offsetHeight>>1):parseInt(f.top,10)+i)+"px"})),g.setAttribute("aria-role","progressbar"),e.lines(g,e.opts),!k){var l=0,m=f.fps,n=m/f.speed,o=(1-f.opacity)/(n*f.trail/100),p=n/f.lines;!function q(){l++;for(var a=f.lines;a;a--){var b=Math.max(1-(l+a*p)%n*o,f.opacity);e.opacity(g,f.lines-a,b,f)}e.timeout=e.el&&setTimeout(q,~~(1e3/m))}()}return e},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=c),this},lines:function(a,b){function c(a,c){return h(d(),{position:"absolute",width:b.length+b.width+"px",height:b.width+"px",background:a,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/b.lines*i+b.rotate)+"deg) translate("+b.radius+"px"+",0)",borderRadius:(b.corners*b.width>>1)+"px"})}for(var g,i=0;b.lines>i;i++)g=h(d(),{position:"absolute",top:1+~(b.width/2)+"px",transform:b.hwaccel?"translate3d(0,0,0)":"",opacity:b.opacity,animation:k&&f(b.opacity,b.trail,i,b.lines)+" "+1/b.speed+"s linear infinite"}),b.shadow&&e(g,h(c("#000","0 0 4px #000"),{top:"2px"})),e(a,e(g,c(b.color,"0 0 1px rgba(0,0,0,.1)")));return a},opacity:function(a,b,c){a.childNodes.length>b&&(a.childNodes[b].style.opacity=c)}}),function(){function a(a,b){return d("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',b)}var b=h(d("group"),{behavior:"url(#default#VML)"});!g(b,"transform")&&b.adj?(n.addRule(".spin-vml","behavior:url(#default#VML)"),bb.prototype.lines=function(b,c){function d(){return h(a("group",{coordsize:j+" "+j,coordorigin:-i+" "+-i}),{width:j,height:j})}function f(b,f,g){e(l,e(h(d(),{rotation:360/c.lines*b+"deg",left:~~f}),e(h(a("roundrect",{arcsize:c.corners}),{width:i,height:c.width,left:c.radius,top:-c.width>>1,filter:g}),a("fill",{color:c.color,opacity:c.opacity}),a("stroke",{opacity:0}))))}var g,i=c.length+c.width,j=2*i,k=2*-(c.width+c.length)+"px",l=h(d(),{position:"absolute",top:k,left:k});if(c.shadow)for(g=1;c.lines>=g;g++)f(g,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(g=1;c.lines>=g;g++)f(g);return e(b,l)},bb.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&e.childNodes.length>b+d&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}):k=g(b,"animation")}()}(a,b),jQuery.Fotorama=function(e,f){function h(){c.each(Lc,function(a,b){if(!b.i){b.i=od++;var c=x(b.video,!0);if(c){var d={};b.video=c,b.img||b.thumb?b.thumbsReady=!0:d=y(b,Lc,kd),z(Lc,{img:d.img,thumb:d.thumb},b.i,kd)}}})}function i(){Lc=kd.data=Lc&&Lc.length?Lc:A(e),Mc=kd.size=Lc.length,h(),Nd=I(Nd),ab.ok=!1,Mc?id||(e.html("").append(sd),id=!0):kd.destroy()}function r(){Sd.noMove=2>Mc||Pc||_c}function s(a){a===!0&&(a=""),f.autoplay=Math.max(Number(a)||oc,3*mc)}function u(a){return a?"add":"remove"}function v(){Wc=f.loop&&Mc>2,_c="crossfade"===f.transition||"dissolve"===f.transition;var a={add:[],remove:[]};Mc>1?(Xc=f.nav,Yc="top"===f.navPosition,a.remove.push(Nb),yd.show(),Db()):(Xc=!1,yd.hide()),f.autoplay&&s(f.autoplay),ad=l(f.thumbWidth)||qc,bd=l(f.thumbHeight)||qc,r(),yc(f),Xc===!0||"dots"===Xc?(Ad.addClass(yb).removeClass(zb),W(Mc,"navDot")):"thumbs"===Xc?(E(qd,c.Fotorama.jst.style({thumbWidth:ad,thumbHeight:bd,thumbMargin:pc,stamp:md})),Ad.addClass(zb).removeClass(yb),W(Mc,"navThumb")):(Xc=!1,Ad.removeClass(zb+" "+yb)),Zc=f.allowFullScreen,e.insertAfter(rd).removeClass(Ob),Xc&&Yc?zd.insertBefore(td):zd.insertAfter(td),Zc?(Ld.appendTo(td),$c=kc&&"native"===Zc):(Ld.detach(),$c=!1),a[u(_c)].push(ib),a[u(!_c&&!Sd.noMove)].push(jb),Rd.stop&&Rd.stop(),Rd=new bb({length:8,radius:6,width:2,color:nc,rotate:15}),sd.addClass(a.add.join(" ")).removeClass(a.remove.join(" ")),Pd=c.extend({},f)}function w(a){return 0>a?(Mc+a%Mc)%Mc:a>=Mc?a%Mc:a}function I(a){return g(a,0,Mc-1)}function M(a){return a>0||Wc?a-1:!1}function N(a){return Mc-1>a||Wc?a+1:!1}function P(){Hd.minPos=Wc?-1/0:-o(Mc-1,Qd.w,pc,Rc),Hd.maxPos=Wc?1/0:-o(0,Qd.w,pc,Rc),Hd.snap=Qd.w+pc}function Q(){Id.minPos=Math.min(0,Qd.w-Bd.width()),Id.maxPos=0,Td.noMove=Id.minPos===Id.maxPos}function R(a,b,d){if("number"==typeof a){a=Array(a);var e=!0}return c.each(a,function(a,c){if(e&&(c=a),"number"==typeof c){var f=Lc[w(c)],g="$"+b+"Frame",h=f[g];d.call(this,a,c,f,h,g,h&&h.data())}})}function S(a,b,c,d){(!cd||"*"===cd&&d===Od)&&(a=n(f.width)||n(a)||rc,b=n(f.height)||n(b)||sc,kd.resize({width:a,ratio:f.ratio||c||a/b},0,d===Od?!0:"*"))}function U(a,b,g,h,i){R(a,b,function(a,j,k,l,m,n){function o(){t.remove(),c.Fotorama.cache[x]="error",k.html&&"stage"===b||!y||y===x?(x&&!n.html?l.trigger("f:error").removeClass(Sb).addClass(Rb):"stage"===b&&(l.trigger("f:load").removeClass(Sb+" "+Rb).addClass(Tb),S()),n.state="error",!(Mc>1)||k.html||k.deleted||k.video||r||(k.deleted=!0,kd.splice(j,1))):(k[v]=x=y,U([j],b,g,h,!0))}function p(){var a=t.width(),d=t.height(),i=a/d;u.measures={width:a,height:d,ratio:i},S(a,d,i,j),t.off("load error").addClass(Xb+(r?" "+Yb:"")).prependTo(l),D(t,g||Qd,h||k.fit||f.fit),c.Fotorama.cache[x]="loaded",n.state="loaded",setTimeout(function(){l.trigger("f:load").removeClass(Sb+" "+Rb).addClass(Tb+" "+(r?Ub:Vb)),"stage"===b&&e.trigger("fotorama:load",zc(w(j)))},5)}function q(){C(function(){return!B(s)},function(){p()})}if(l){var r=kd.fullScreen&&k.full&&!n.$full&&"stage"===b;if(!n.$img||i||r){var s=new Image,t=c(s),u=t.data();n[r?"$full":"$img"]=t;var v="stage"===b?r?"full":"img":"thumb",x=k[v],y=r?null:k["stage"===b?"thumb":"img"];if("navThumb"===b&&(l=n.$wrap),!x)return o(),d;c.Fotorama.cache[x]?function z(){"error"===c.Fotorama.cache[x]?o():"loaded"===c.Fotorama.cache[x]?q():setTimeout(z,100)}():(c.Fotorama.cache[x]="*",t.on("load",q).on("error",o)),s.src=x,t.appendTo(c.Fotorama.$load)}}})}function V(){var a=kd.activeFrame[Ed];a&&!a.data().state&&(Rd.stop().spin(a[0]),a.on("f:load f:error",function(){a.off("f:load f:error"),Rd.stop()}))}function W(a,b){R(a,b,function(a,d,e,g,h,i){if(!g)if(g=e[h]=sd[h].clone(),i=g.data(),i.data=e,"stage"===b){if(e.html&&c('<div class="'+ac+'"></div>').append(e.html).appendTo(g),f.captions&&e.caption&&c('<div class="'+ec+'"></div>').append(e.caption).appendTo(g),e.video){var j=Md.clone();H(j,function(){kd.playVideo()},{onStart:function(a){Ac.call(this,a),Sd.control=!0},tail:Sd}),g.addClass(nb).append(j)}vd=vd.add(g)}else"navDot"===b?Cd=Cd.add(g):"navThumb"===b&&(i.$wrap=g.children(":first"),Dd=Dd.add(g),e.video&&g.append(Md.clone()))})}function Z(a,b,c){return a&&a.length&&D(a,b,c)}function $(a){R(a,"stage",function(a,b,d,e,g,h){if(e){e.css(c.extend({left:_c?0:o(b,Qd.w,pc,Rc)},_c&&k(0))).fadeTo(0,_c&&b!==Nd?0:1),h.appended||(e.appendTo(ud),h.appended=!0,Fc(d.$video));var i=d.fit||f.fit;Z(h.$img,Qd,i),Z(h.$full,Qd,i)}})}function _(a,b){if("thumbs"===Xc&&!isNaN(a)){var d=ad+pc,e=I(p(a+d,d)),f=I(p(a-Qd.w,d)),g={};g.w=ad,g.h=bd,Dd.each(function(){var a=c(this),d=a.data(),h=d.eq,i="cover";e>h||h>f||Z(d.$img,g,i)||b&&U([h],"navThumb",g,i)})}}function ab(a,b,d){ab.ok||(a=a.filter(function(){for(var a,b=c(this),d=b.data(),e=0,f=Lc.length;f>e;e++){var g=Lc[e];if(d.data===g){a=!0,d.eq=e;break}}return a||b.remove(),a}).sort(function(a,b){return c(a).data().eq-c(b).data().eq}).appendTo(b),d&&Q(),ab.ok=!0)}function Db(){yd.each(function(a){c(this).toggleClass(rb,!Wc&&(0===Nd&&0===a||Nd===Mc-1&&1===a)&&!Pc)})}function bc(a){return a.position().left+ad/2}function hc(a){K(Kd,{time:.9*a,pos:bc(kd.activeFrame[Oc])})}function ic(a){if(Lc[a.guessIndex][Oc]){var b=g(a.coo-bc(Lc[a.guessIndex][Oc]),Id.minPos,Id.maxPos),c=.9*a.time;K(Bd,{time:c,pos:b,onEnd:function(){_(b,!0)}}),c&&_(b),Ec(Ad,F(b,Id.minPos,Id.maxPos))}}function lc(){if("thumbs"===Xc)Nc=Dd,Oc=Gd;else{if(!Xc)return;Nc=Cd,Oc=Fd}ab(Nc,Bd,!0),Nc.removeClass(Mb),kd.activeFrame[Oc].addClass(Mb)}function tc(){Rc=Sc=Nd;var a=kd.activeFrame,b=a[Ed];b&&(vd.not(kd.activeFrame[Ed].addClass(Mb)).detach().data("appended",!1).removeClass(Mb+" "+Eb+" "+Fb),t(ud),ud.css(j(0)),$([Nd,Uc,Vc]),P(),Q())}function yc(a){a&&c.extend(Qd,{width:a.width,height:a.height,minWidth:a.minWidth,maxWidth:a.maxWidth,minHeight:a.minHeight,maxHeight:a.maxHeight,ratio:function(a){if(a){var b=Number(a);return isNaN(b)?(b=a.split("/"),Number(b[0]/b[1])||d):b}}(a.ratio)})}function zc(a){return{index:a,frame:Lc[a]}}function Ac(){f.stopAutoplayOnTouch?kd.stopAutoplay():gd=!0}function Bc(){gd=!(!Pc&&!hd)}function Cc(){if(clearTimeout(Cc.t),!f.autoplay||gd)return kd.autoplay&&(kd.autoplay=!1,e.trigger("fotorama:stopautoplay")),d;kd.autoplay||(kd.autoplay=!0,e.trigger("fotorama:startautoplay"));var a=Nd;Cc.t=setTimeout(function(){var b=kd.activeFrame[Ed].data();C(function(){return b.state||a!==Nd},function(){gd||a!==Nd||kd.show({index:w(Nd+1),auto:!0})})},f.autoplay)}function Dc(){kd.fullScreen&&(kd.fullScreen=!1,kc&&T.cancel(nd),Y.removeClass(db),e.removeClass(Pb).insertAfter(rd).trigger("fotorama:fullscreenexit"),Qd=c.extend({},jd),Fc(Pc,!0),kd.resize(),U([Nd,Uc,Vc],"stage"),fc.scrollLeft(ed).scrollTop(dd))}function Ec(a,b){a.removeClass(Kb+" "+Lb),b&&!Pc&&a.addClass(b.replace(/^|\s/g," "+Jb+"--"))}function Fc(a,b,c){b&&(sd.removeClass(hb),Pc=!1,r()),a&&(a.remove(),e.trigger("fotorama:unloadvideo")),c&&(Bc(),Cc())}function Gc(a){sd.toggleClass(kb,a)}function Hc(a,b){Pc?Fc(Pc,!0,!0):b?Gc():kd.show({index:a.shiftKey||a._x-td.offset().left<Qd.w/3?"<":">",slow:a.altKey})}function Ic(a,b){var d=c(this).data().eq;kd.show({index:d,slow:a.altKey,coo:a._x-Ad.offset().left,time:b})}function Jc(){if(i(),v(),!Kc.ok){if(f.hash&&location.hash&&(f.startIndex=G(location.hash.replace(/^#/,""),Lc,0===ld)||0),"random"===f.startIndex&&(f.startIndex=q(0,Mc-1)),Od=Wc?w(f.startIndex):I(f.startIndex),isNaN(Od)){var a=G(f.startIndex,Lc,!0);Od=isNaN(a)?0:a}Nd=Rc=Sc=Tc=Od}Mc?(Pc&&Fc(Pc,!0),kd.show({index:Nd,time:0,auto:!0}),kd.resize()):kd.destroy()}function Kc(){Kc.ok||(Kc.ok=!0,sd.removeClass(fb),e.trigger("fotorama:ready"))}X=X||c("html"),Y=Y||c("body"),c.Fotorama.$load=c.Fotorama.$load||c('<div class="'+Wb+'"></div>').appendTo(Y);var Lc,Mc,Nc,Oc,Pc,Qc,Rc,Sc,Tc,Uc,Vc,Wc,Xc,Yc,Zc,$c,_c,ad,bd,cd,dd,ed,fd,gd,hd,id,jd,kd=this,ld=xc,md=(new Date).getTime(),nd=e.addClass(cb+md)[0],od=1,pd=e.data(),qd=c("<style></style>").insertBefore(e),rd=c('<div style="display: none;"></div>').insertBefore(e),sd=c('<div class="'+eb+" "+fb+'"></div>'),td=c('<div class="'+lb+'"></div>').appendTo(sd),ud=(td[0],c('<div class="'+ob+'"></div>').appendTo(td)),vd=c(),wd=c('<div class="'+qb+" "+sb+'"><div class="'+ub+'"></div></div>'),xd=c('<div class="'+qb+" "+tb+'"><div class="'+ub+'"></div></div>'),yd=wd.add(xd).appendTo(td),zd=c('<div class="'+wb+'"></div>'),Ad=c('<div class="'+vb+'"></div>').appendTo(zd),Bd=c('<div class="'+xb+'"></div>').appendTo(Ad),Cd=c(),Dd=c(),Ed="$stageFrame",Fd="$navDotFrame",Gd="$navThumbFrame",Hd=ud.data(),Id=Bd.data(),Jd=J(c('<div class="'+Gb+" "+Hb+'"></div><div class="'+Gb+" "+Ib+'"></div>').appendTo(td)),Kd=(J(Jd.clone().appendTo(Ad)),c('<div class="'+_b+'"></div>').appendTo(Bd)),Ld=c('<div class="'+Qb+'"></div>'),Md=c('<div class="'+cc+'"></div>'),Nd=(c('<div class="'+dc+'"></div>').appendTo(td),!1),Od=!1,Pd={},Qd={},Rd={},Sd={},Td={};sd[Ed]=c('<div class="'+mb+'"></div>'),sd[Gd]=c('<div class="'+Ab+" "+Cb+'"><div class="'+$b+'"></div></div>'),sd[Fd]=c('<div class="'+Ab+" "+Bb+'"><div class="'+Zb+'"></div></div>'),jc&&sd.addClass(gb),c.Fotorama.size++,xc++,c.Fotorama.api[ld]=this,this.startAutoplay=function(a){return kd.autoplay?this:(gd=hd=!1,s(a||f.autoplay),Cc(),this)},this.stopAutoplay=function(){return kd.autoplay&&(gd=hd=!0,Cc()),this},this.show=function(a){function b(){V(),U([Nd,Uc,Vc],"stage"),tc(),e.trigger("fotorama:showend",a.auto),f.hash&&fd&&!kd.eq&&location.replace("#"+(Qc.id||Nd+1)),Bc(),Cc(),fd=!0}var c,h,i=mc;if("object"!=typeof a?c=a:(c=a.index,i="number"==typeof a.time?a.time:i,h=a.overPos),a.slow&&(i*=10),">"===c?c=Sc+1:"<"===c?c=Sc-1:"<<"===c?c=0:">>"===c&&(c=Mc-1),isNaN(c)&&(c=G(c,Lc,!0)||Nd||0),kd.activeIndex=Nd=Wc?w(c):I(c),Uc=M(Nd),Vc=N(Nd),Sc=Wc?c:Nd,kd.activeFrame=Qc=Lc[Nd],$([Sc]),W([Nd,Uc,Vc],"stage"),Fc(!1,Qc.i!==Lc[w(Rc)].i),e.trigger("fotorama:show",a.auto),_c){var j=Qc[Ed],k=Nd!==Tc?Lc[Tc][Ed]:null;L(j,k,{time:i,method:f.transition,onEnd:b})}else K(ud,{pos:-o(Sc,Qd.w,pc,Rc),overPos:h,time:i,onEnd:b});if(Db(),lc(),Xc){var l=I(Nd+g(Sc-Tc,-1,1)),m=a.coo===d;(m||l!==Nd)&&ic({time:i,coo:m?Qd.w/2:a.coo,guessIndex:m?Nd:l})}return"thumbs"===Xc&&hc(i),Tc=Nd,this},this.requestFullScreen=function(){return Zc&&!kd.fullScreen&&(kd.fullScreen=!0,dd=fc.scrollTop(),ed=fc.scrollLeft(),fc.scrollLeft(1).scrollTop(1),$c&&T.request(nd),setTimeout(function(){fc.scrollLeft(0).scrollTop(0),Y.addClass(db),e.addClass(Pb).css({top:0}).appendTo(Y).trigger("fotorama:fullscreenenter"),jd=c.extend({},Qd),Fc(Pc,!0),kd.resize(),U([Nd,Uc,Vc],"stage")},5)),this},this.cancelFullScreen=function(){return $c&&T.is()?T.cancel(b):Dc(),this},b.addEventListener&&b.addEventListener(T.event,function(){T.is()||Pc||Dc()}),gc.on("keydown",function(a){Pc&&27===a.keyCode?(a.preventDefault(),Fc(Pc,!0,!0)):(kd.fullScreen||f.keyboard&&!ld)&&(27===a.keyCode?(a.preventDefault(),kd.cancelFullScreen()):39===a.keyCode||40===a.keyCode&&kd.fullScreen?(a.preventDefault(),kd.show({index:">",slow:a.altKey})):(37===a.keyCode||38===a.keyCode&&kd.fullScreen)&&(a.preventDefault(),kd.show({index:"<",slow:a.altKey})))}),ld||gc.on("keydown","textarea, input, select",function(a){kd.fullScreen||a.stopPropagation()}),this.resize=function(b){yc(kd.fullScreen?{width:"100%",maxWidth:null,minWidth:null,height:"100%",maxHeight:null,minHeight:null}:b);var c=arguments[1]||0,d=arguments[2],e=Qd.width,f=Qd.height,h=Qd.ratio,i=a.innerHeight-(Xc?Ad.height():0);return n(e)&&(sd.css({width:e,minWidth:Qd.minWidth,maxWidth:Qd.maxWidth}),e=Qd.w=sd.width(),f=m(f)/100*i||l(f),f=f||h&&e/h,f&&(f=Qd.h=g(f,m(Qd.minHeight)/100*i||l(Qd.minHeight),m(Qd.maxHeight)/100*i||l(Qd.maxHeight)),tc(),td.addClass(pb).stop().animate({width:e,height:f},c,function(){td.removeClass(pb)}),Xc&&(Ad.stop().animate({width:e},c).css({left:0}),ic({guessIndex:Nd,time:c,coo:Qd.w/2}),"thumbs"===Xc&&ab.ok&&hc(c)),cd=d||!0,Kc())),this},this.setOptions=function(a){return c.extend(f,a),Jc(),this},this.destroy=function(){return sd.detach(),e.html(pd.urtext),id=!1,Lc=kd.data=[],c.Fotorama.size--,this},this.playVideo=function(){var a=kd.activeFrame,b=a.video,d=Nd;return"object"==typeof b&&a.videoReady&&($c&&kd.fullScreen&&kd.cancelFullScreen(),C(function(){return!T.is()||d!==Nd},function(){d===Nd&&(a.$video=a.$video||c(vc.replace(uc,wc[b.type].replace(uc,b.id))),a.$video.appendTo(a[Ed]),sd.addClass(hb),Pc=a.$video,Sd.noMove=!0,e.trigger("fotorama:loadvideo"))})),this},this.stopVideo=function(){return Fc(Pc,!0,!0),this},sd.hover(function(){Gc(!1)},function(){Gc(!0)}),Sd=O(ud,{onStart:Ac,onMove:function(a,b){Ec(td,b.edge)},onEnd:function(a){if(Ec(td),a.pos!==a.newPos){var b=p(a.newPos,Qd.w,pc,Rc);kd.show({index:b,time:a.time,overPos:a.overPos})}else a.aborted||Hc(a.startEvent,a.touch)},timeLow:1,timeHigh:1,friction:2,select:"."+Nb+", ."+Nb+" *",$wrap:td}),Td=O(Bd,{onStart:Ac,onMove:function(a,b){Ec(Ad,b.edge)},onEnd:function(a){function b(){Bc(),Cc(),_(a.newPos,!0)}if(a.moved)a.pos!==a.newPos?(K(Bd,{time:a.time,pos:a.newPos,overPos:a.overPos,onEnd:b}),_(a.newPos),Ec(Ad,F(a.newPos,Id.minPos,Id.maxPos))):b();else{var c=a.$target.closest("."+Ab,Bd)[0];c&&Ic.call(c,a.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:Ad}),H(yd,function(a){a.preventDefault(),Pc?Fc(Pc,!0,!0):kd.show({index:yd.index(this)?">":"<",slow:a.altKey})},{onStart:function(a){Ac.call(this,a),Sd.control=!0},tail:Sd}),H(Ld,function(){kd.fullScreen?kd.cancelFullScreen():kd.requestFullScreen(),Bc(),Cc()},{onStart:function(a){Ac.call(this,a),Sd.control=!0},tail:Sd}),c.each("load push pop shift unshift reverse sort splice".split(" "),function(a,b){kd[b]=function(){return"load"!==b?Array.prototype[b].apply(Lc,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(Lc=arguments[0]),Jc(),kd}}),fc.on("resize",this.resize),Jc()},c.fn.fotorama=function(a){return this.each(function(){var b=this,d=c(this),e=d.data(),f=e.api;f?f.setOptions(a):C(function(){return!B(b)},function(){e.urtext=d.html(),e.api=new c.Fotorama(d,c.extend({},{loop:!1,startIndex:0,transition:"slide",keyboard:!1,fit:"contain",nav:"dots",navPosition:"bottom",hash:!1,allowFullScreen:!1,captions:!0,autoplay:!1,stopAutoplayOnTouch:!0,width:null,minWidth:null,maxWidth:null,height:null,minHeight:null,maxHeight:null,ratio:null,thumbWidth:qc,thumbHeight:qc},c.extend({},a,e)))
})})},c.Fotorama.cache={};var xc=0;c.Fotorama.size=0,c.Fotorama.api=[],c(function(){c(".fotorama").fotorama()}),this.$=this.$||{},this.$.Fotorama=this.$.Fotorama||{},this.$.Fotorama.jst=this.$.Fotorama.jst||{},this.$.Fotorama.jst.style=function(a){var b,c="";return R.escape,c+=".fotorama"+(null==(b=a.stamp)?"":b)+" .fotorama__nav--thumbs .fotorama__nav__frame {\n  padding: "+(null==(b=a.thumbMargin)?"":b)+"px "+(null==(b=a.thumbMargin/2)?"":b)+"px;\n  width: "+(null==(b=a.thumbWidth)?"":b)+"px;\n  height: "+(null==(b=a.thumbHeight)?"":b)+"px;\n}\n.fotorama"+(null==(b=a.stamp)?"":b)+" .fotorama__thumb {\n  width: "+(null==(b=a.thumbWidth)?"":b)+"px;\n  height: "+(null==(b=a.thumbHeight)?"":b)+"px;\n}\n.fotorama"+(null==(b=a.stamp)?"":b)+" .fotorama__thumb-border {\n  width: "+(null==(b=a.thumbWidth-2*a.thumbMargin)?"":b)+"px;\n  height: "+(null==(b=a.thumbHeight-2*a.thumbMargin)?"":b)+"px;\n  border-width: "+(null==(b=a.thumbMargin)?"":b)+"px;\n  margin-top: "+(null==(b=a.thumbMargin)?"":b)+"px;\n  margin-left: "+(null==(b=-a.thumbWidth/2+a.thumbMargin/2)?"":b)+"px;\n}\n.fotorama"+(null==(b=a.stamp)?"":b)+" .fotorama__wrap--vertical .fotorama__nav--thumbs {\n  width: "+(null==(b=a.thumbWidth+2*a.thumbMargin)?"":b)+"px;\n}\n.fotorama"+(null==(b=a.stamp)?"":b)+" .fotorama__wrap--vertical .fotorama__nav__frame {\n  padding: "+(null==(b=a.thumbMargin/2)?"":b)+"px "+(null==(b=a.thumbMargin)?"":b)+"px;\n}\n.fotorama"+(null==(b=a.stamp)?"":b)+" .fotorama__wrap--vertical .fotorama__thumb-border {\n  margin-left: "+(null==(b=a.thumbMargin)?"":b)+"px;\n  margin-top: "+(null==(b=-a.thumbHeight/2+a.thumbMargin/2)?"":b)+"px;\n}\n"}}(window,document,jQuery),function(a){"use strict";function b(){return document.querySelectorAll?document.querySelectorAll("[data-component]"):a("[data-component]")}function c(c){var g=e||(e=b());if(!arguments.length){var h=!1;for(var i in f){h=!0;break}if(!h)return;c={}}for(var j=0,k=g.length;k>j;j++){var l=g[j],m=l.getAttribute("data-component"),n=c[m];if(n)if(l.offsetWidth||l.offsetHeight)if("function"==typeof n)n(l);else for(var o in n)a(l)[o](n[o]);else d(n,m,l);else f[m]&&(l.offsetWidth||l.offsetHeight)&&(f[m](),delete f[m])}}function d(a,b,c){f[b]=function(){a(c)}}var e,f={};a(document).click(function(b){var c=b.target;if(c.parentNode&&c.parentNode.getAttribute("data-fire")&&(c=c.parentNode),c.getAttribute("data-fire")&&c.getAttribute("data-to")){c=a(c);var d=(""+c.data("attrs")).split(/[;, ]/);a(c.data("to")).trigger(c.data("fire"),d),b.preventDefault()}}),window.utils={initComponents:c}}(jQuery);var __templates=function(){function a(){var a={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},b=/&(?!#?w+;)|<|>|"|'|\//g;return function(){return this?this.replace(b,function(b){return a[b]||b}):this}}String.prototype.encodeHTML=a();var b=b||{};return b["photo-info"]=function(a){var b='<h1 class="photo-info__title">'+a.title+'</h1><div class="photo-info__album"><a href="'+a.albumHref+'" class="photo-info__album-link">⇧ <u>'+a.album+"</u></a></div>";return a.description&&(b+='<div class="photo-info__caption">'+a.description+"</div>"),b+='<div class="photo-info__meta">'+a.pubdate+", "+a.exif+"</div>"},b["photo-title"]=function(a){var b=""+a.title+" - "+a.siteTitle;return b},b}();!function(a){"use strict";a.fn.tmpl=function(b,c){return a(this).html(window.__templates[b](c))},utils.initComponents({"photo-album":function(b){function c(){i.addClass("is-activated");var a=o.activeFrame;a.title=a.title||"***",a.permalink=location.href.replace(/\/photos\/\d+\/$/,"/photos/"+a.id+"/"),a.albumHref=m,a.album=n,history.pushState("",a.title,a.permalink),document.title=window.__templates["photo-title"]({title:a.title,siteTitle:k}),j.tmpl("photo-info",a)}function d(){o.resize({width:i.width(),height:i.height()})}var e=window.__photos,f=window.__photos_current_id,g=0;a.each(e,function(a){return e[a].id===f?(g=a,!1):void 0});var h=a(b),i=h.find(".js-gallery");h.find(".js-share");var j=h.find(".js-info"),k=a(".js-site-title").text(),l=a(".js-album-link a"),m=l.attr("href"),n=l.text();i.fotorama({nav:!1,arrows:!0,keyboard:!0,transition:"crossfade",width:i.width(),height:i.height(),startIndex:g});var o=i.data("api");i.on("fotorama:show",c),o.load(e),a(window).resize(d)}})}(jQuery);