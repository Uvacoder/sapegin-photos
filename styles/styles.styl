body {
	background: bg_color;
	color: base_color;
	line-height: 1.5;
	padding: spacer 2*spacer;
	font-size: normal_font;
	if (max_width) {
		max-width: max_width;
		margin-left: auto;
		margin-right: auto;
	}
}

lightbox_button_width = 50px;
lightbox_button_height = 40px;
header_height = 40px;

lightbox-button-transition() {
	transition: all 333ms cubic-bezier(0.1, 0.25, 0.25, 1);
}

lightbox-button-glow() {
	color: light_hover_color;
	filter: drop-shadow(0 0 4px white(.4));
}

// Fonts

body {
	font-family: "Helvetica Neue", Arial, sans-serif;
}


// Headers: alpha, beta, gamma, delta, epsilon, epsilon

.alpha {
	margin-left: -.1ex;
	font-size: 48px;
	font-weight: 300;
	line-height: 1.1;
}

.beta {
	margin-left: 0;
	font-size: 32px;
	font-weight: 300;
	line-height: 1.1;
}

.gamma {
	margin-left: 0;
	font-size: 24px;
	font-weight: 300;
	line-height: 1.1;
}

.delta {
	font-size: content_font;
	font-weight: bold;
	line-height: 1.3;
}


// Text

.text {
	h2 {
		@extend .beta;
		margin-top: 30px;
		margin-bottom: 15px;
	}
	h3 {
		@extend .delta;
		margin-top: 30px;
		margin-bottom: 15px;
	}

	li {
		margin-bottom: 10px;
	}

	// Default browser style is `bolder`, it’s not bold enough because main text’s weight is 300.
	b,
	strong {
		font-weight: bold;
	}

	// Floating images
	.left {
		float: left;
		margin-right: 1.5*spacer;
		margin-top: .25em;
	}
	.right {
		float: right;
		margin-left: 1.5*spacer;
		margin-top: .25em;
	}
}

.footer {
	padding: 0 2*spacer;
	font-size: small_font;

	.page_index &,
	.page_content & {
		display: none;
	}
}

.is-fullscreen {
	overflow: hidden;
}

.is-pocketed {
	position: absolute;
	overflow: hidden;
	height: 0;
}

.page {
	&_index,
	&_content {
		background: photo_bg_color;
	}

	&_content,
	&_album {
		.content {
			max-width: 100%;
		}
	}

	&_index {
		padding: 0;
	}

	&_ebook {
		.footer {
			display: none;
		}
	}
}
+below(740px) {
	.page_learn {
		.l-half {
			layout-stop();
		}
	}
}

.entry,
.entry-content {
	font-size: content_font;

	p,
	ul,
	ol {
		line-height: 1.6;
		font-weight: 300;
	}
}

.entry-header {
	space(3);
}

.entry-title {
	@extend .alpha;
	margin-bottom: 10px;

	&__link {
		&,
		&:link,
		&:visited,
		&:hover,
		&:active,
		&:focus {
			color: base_color;
			text-decoration: none;
		}
		&:hover,
		&:active,
		&:focus {
			border-bottom: 2px solid;
		}
	}

	&_excerpt,
	&_excerpt-photo {
		@extend .beta;
	}

	&_excerpt-photo {
		space(2);

		.entry-title__link {
			&,
			&:link,
			&:visited,
			&:hover,
			&:active,
			&:focus {
				color: bg_color;
			}
		}
	}
}

.entry-content {
	space(4);
}

.entry-excerpt,
.entry-links {
	space(0.5);
	font-size: small_font;

	&:last-child {
		space(0);
	}
}

.entry-pubdate {
	font-size: small_font;
}

.entry-tags {
	font-size: small_font;

	&__separator {
		display: inline-block;
		margin-right: .3em;
	}
}

// TODO: replace with .photo-grid
.entry-photo {
	space(3);

	& + &,
	.l-row + &,
	& + .l-row {
		margin-top: (-(spacer));
	}
	.l-row & {
		margin-top: 0;
	}

	&__photo {
		max-width: 100%;
		height: auto;
	}

	&__title {
		font-size: small_font;
	}

	+below(1024px) {
		margin-left: -(2*spacer);
		margin-right: -(2*spacer);
		text-align: center;
	}
}

.entry-tip {
	position: relative;
	font-size: small_font;

	&:before {
		content: "\261e";
		position: absolute;
		top: -.25em;
		left: -(1em + .3em);
		width: 1em;
		text-align: right;
		font-size: 23px;
	}
}

.entry-figure-right {
	float: right;
	margin-left: grid_gutter;
}


.essay {
	space(6);

	&_photo {
		tweak-inverted-text();
		margin-left: (-(2*spacer));
		margin-right: (-(2*spacer));
		padding: 8*spacer 2*spacer;
		background: base_color;
		color: bg_color;

		.essay__content a,
		.essay__meta a {
			&,
			&:link,
			&:visited {
				color: light_color;
			}
			&:hover,
			&:active,
			&:focus {
				color: bg_color;
			}
		}
	}

	&_photo + &_photo {
		margin-top: (-(14*spacer));
	}

	&__header {
		space(2);
	}

	&__content {
		space(2);

		h2 {
			@extend .gamma;
		}
	}

	&_single &__meta {
		space();
	}

	&__pubdate {
		display: inline-block;
		margin-right: 1em;
	}

	&__discuss {
		space(1);
		font-size: 16px;
	}
}

.pagination {
	space(4);

	&__link {
		margin-right: .5em;
		font-size: content_font;
	}
}

.filter {
	space(3);

	&__tag {
		margin-right: .5em;

		&.is-active {
			&,
			&:link,
			&:visited,
			&:hover,
			&:active,
			&:focus {
				font-weight: bold;
				color: base_color;
				text-decoration: none;
				cursor: default;
			}
		}
	}
}

.quote {
	space(4);

	&__text {
		space(2);
		font-style: normal_font;
	}

	&__meta {
		font-size: small_font;
	}
}

.articles-list {
	&__item {
		margin-bottom: (spacer/2);
		font-size: normal_font;

		&:before {
			display: none;
		}
	}

	&__description {
		font-size: small_font;
	}
}

.articles-list-title {
	@extend .gamma;
	space();

	&_index {
		font-size: normal_font;
	}
}

.index-about {
	space();
	font-size: small_font;
}

@media (max-width: 1024px) {
	.index {
		position: static;
	}
	.index-content {

		&-i {
			margin-top: 0 !important;  // important to overwrite value set by JS
		}
		&-i-i {
			box-shadow: none;
		}
	}
}
